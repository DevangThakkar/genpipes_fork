<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<smrtpipeSettings>
		<protocol version="2.1.0" id="RS_HGAP_Assembly.2" editable="false">
			<param name="name" label="Protocol Name">
				<value>RS_HGAP_Assembly</value>
				<input type="text"/>
				<rule required="true"/>
			</param>
			<param name="description">
				<value>DAGCON-based HGAP (Hierarchical Genome Assembly Process) performs high quality de novo assembly using a single PacBio library prep. HGAP consists of pre-assembly, de novo assembly with Celera Assembler, and assembly polishing with Quiver. This workflow uses a much faster DAG-based consensus approach for pre-assembly.</value>
				<textarea></textarea>
			</param>
			<param name="version" hidden="true">
				<value>2</value>
				<input type="text"/>
				<rule type="digits" required="true" min="1.0"/>
			</param>
			<param name="state" hidden="true">
				<value>active</value>
				<input value="active" type="radio"/>
				<input value="inactive" type="radio"/>
			</param>
			<param name="otfReference" hidden="true">
				<value>reference</value>
			</param>
			<param name="deferRefCheck" hidden="true">
				<value>True</value>
			</param>
			<param name="fetch" hidden="true">
				<value>common/protocols/preprocessing/Fetch.1.xml</value>
			</param>
			<param name="filtering">
				<value>common/protocols/filtering/PreAssemblerSFilter.1.xml</value>
				<select multiple="true">
					<import extension="xml" contentType="text/directory">common/protocols/filtering</import>
				</select>
			</param>
			<param name="assembly">
				<value>common/protocols/assembly/PreAssemblerHGAP.2.xml</value>
				<select multiple="true">
					<import extension="xml" contentType="text/directory">common/protocols/assembly</import>
				</select>
			</param>
		</protocol>

		<moduleStage name="fetch" editable="true">
			<module label="Fetch v1" id="P_Fetch" editableInJob="true">
				<description>Sets up inputs</description>
			</module>
		</moduleStage>

		<moduleStage name="filtering" editable="true">
			<module label="PreAssembler Filter v1" id="P_Filter" editableInJob="true">
				<description>Filter reads for use in the pre-assembly step of HGAP, the hierarchical genome assembly process.</description>
				<param name="minSubReadLength" label="Minimum Subread Length">
					<title>The minimum subread length. Shorter subreads will be filtered and excluded from further analysis.</title>
					<value>500</value>
					<input type="text" size="3"/>
					<rule type="number" min="0.0" message="Value must be a positive integer"/>
				</param>
				<param name="readScore" label="Minimum Polymerase Read Quality">
					<title>The minimum polymerase read quality determines the quality cutoff. Polymerase reads with lower quality will be filtered and excluded from further analysis.</title>
					<value>0.80</value>
					<input type="text" size="3"/>
					<rule type="number" min="0.0" message="Value must be between 0 and 1" max="1.0"/>
				</param>
				<param name="minLength" label="Minimum Polymerase Read Length">
					<title>The minimum polymerase read length. Shorter polymerase reads will be excluded from further analysis.</title>
					<value>100</value>
					<input type="text" size="3"/>
					<rule type="number" min="0.0" message="Value must be a positive integer"/>
				</param>
			</module>
			<module label="PreAssemblerSFilter Reports v1" id="P_FilterReports" editableInJob="false"/>
		</moduleStage>
		
		<moduleStage name="assembly" editable="true">
			<module label="PreAssembler v2" id="P_PreAssemblerDagcon" editableInJob="true">
				<title>Using DAG-based consensus algorithm, pre-assemble long reads as the first step of the Hierarchical Genome Assembly process (HGAP). Version 2 is a stepping stone for scaling to much larger genomes.</title>
				<param name="computeLengthCutoff" label="Compute Minimum Seed Read Length" editable="true">
				<title>Compute "Minimum Seed Read Length"</title>
					<value>True</value>
					<input type="checkbox" />
				</param>
					<param name="minLongReadLength">
					<value>6000</value>
				</param>
				<param name="targetChunks" label="Split Target into Chunks">
					<value>1</value>
				</param>
				<param name="splitBestn" label="Alignment Candidates Per Chunk">
					<value>24</value>
				</param>
				<param name="totalBestn">
					<value>24</value>
				</param>
				<param name="blasrOpts" label="BLASR Options (Advanced)">
					<title>The -bestn and -nCandidates options should be approximately equal to the expected seed read coverage</title>
					<value> -noSplitSubreads -minReadLength 200 -maxScore -1000 -maxLCPLength 16 </value>
					<input type="text"/>
				</param>
			</module>
		</moduleStage>
	<fileName>RS_HGAP_Assembly.2.xml</fileName>
</smrtpipeSettings>
